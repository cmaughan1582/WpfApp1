<!-- saved from url=(0014)about:internet -->
<!DOCTYPE html>
<html>
<head>

    <title>Quick Start - Leaflet</title>
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta charset="utf-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0">

    <link rel="stylesheet" type="text/css" href="leaflet.css" />
    <script type="text/javascript" src="leaflet.js"></script>



</head>
<body>



    <div id="mapid" style="height: 95vh;"></div>
    <script>

        var mymap = L.map('mapid');


        //L.tileLayer('https://api.tiles.mapbox.com/v4/{id}/{z}/{x}/{y}.png?access_token=pk.eyJ1IjoibWFwYm94IiwiYSI6ImNpejY4NXVycTA2emYycXBndHRqcmZ3N3gifQ.rJcFIG214AriISLbB6B5aw', {
        //maxZoom: 18,
        //}).addTo(mymap);
        var Wikimedia = L.tileLayer('https://maps.wikimedia.org/osm-intl/{z}/{x}/{y}{r}.png', {
            attribution: '<a href="https://wikimediafoundation.org/wiki/Maps_Terms_of_Use">Wikimedia</a>',
            minZoom: 1,
            maxZoom: 19
        });
        mymap.addLayer(Wikimedia);
        mymap.setView([41.750720, -111.840137], 13);
        //var home = L.marker([41.750720, -111.840137], {icon: myIcon}).bindPopup("<b>Home</b><br />This is my house.");
        //var home1 = L.marker([41.750720, -111.840137]).bindPopup("<b>Home</b><br />This is my house.");
        //home.icon = myIcon;
        var current = L.layerGroup();
        var inspectorLayer = L.layerGroup();
        var assignlayer = L.layerGroup();
        var withlayer = L.layerGroup();
        var vallayer = L.layerGroup();
        var acceptlayer = L.layerGroup();
        var overlaymaps = {
            "Inspectors": inspectorLayer,
            "Assign": assignlayer,
            "With Inspector": withlayer,
            "Validation": vallayer,
            "Accept": acceptlayer
        };
        //mymap.addLayer(layer1);
        //mymap.addLayer(inspectorLayer);
        mymap.addLayer(assignlayer);
        //mymap.addLayer(withlayer);
        L.control.layers(null, overlaymaps).addTo(mymap);
        //centerMap(25.520581, -103.40607);


        function centerMap(lat, lon, name) {
            var currentIcon = L.icon({
                iconUrl: 'images/bluepin.png',
                iconSize: [25, 40],
                iconAnchor: [13, 39],
                popupAnchor: [0, -30],
            });
            mymap.removeLayer(current);
            mymap.setView([lat, lon], 13);
            current = L.layerGroup();
            var imarker = L.marker([lat, lon], { icon: currentIcon }).bindPopup("<b>" + name + "</b>").addTo(current);
            current.addTo(mymap);
        }
        function mapInspectors(lat, lon, name, grade) {
            var inspIcon = L.icon({
                iconUrl: 'images/green pin.png',
                iconSize: [25, 40],
                iconAnchor: [13, 39],
                popupAnchor: [0, -30],
            });
            var imarker = L.marker([lat, lon], { icon: inspIcon }).bindPopup("<b>" + name + "</b><br />Grade: " + grade + "<br/>").addTo(inspectorLayer);
        }

        function mapAssign(lat, lon, name) {
            var assignIcon = L.icon({
                iconUrl: 'images/lblue pin.png',
                iconSize: [25, 40],
                iconAnchor: [13, 39],
                popupAnchor: [0, -30],
            });
            var imarker = L.marker([lat, lon], { icon: assignIcon }).bindPopup("<b>" + name + "</b>").addTo(assignlayer);
        }
        function mapWith(lat, lon, name, inspector) {
            var withIcon = L.icon({
                iconUrl: 'images/yellow pin.png',
                iconSize: [25, 40],
                iconAnchor: [13, 39],
                popupAnchor: [0, -30],
            });
            var imarker = L.marker([lat, lon], { icon: withIcon }).bindPopup("<b>" + name + "</b><br />Assigned to: " + inspector + "<br/>").addTo(withlayer);
        }
        function mapVal(lat, lon, name) {
            var ValIcon = L.icon({
                iconUrl: 'images/red pin.png',
                iconSize: [25, 40],
                iconAnchor: [13, 39],
                popupAnchor: [0, -30],
            });
            var imarker = L.marker([lat, lon], { icon: ValIcon }).bindPopup("<b>" + name + "</b>").addTo(vallayer);
        }
        function mapAccept(lat, lon, name, inspector) {
            var acceptIcon = L.icon({
                iconUrl: 'images/orange pin.png',
                iconSize: [25, 40],
                iconAnchor: [13, 39],
                popupAnchor: [0, -30],
            });
            var imarker = L.marker([lat, lon], { icon: acceptIcon }).bindPopup("<b>" + name + "</b><br />Assigned to: " + inspector + "<br/>").addTo(acceptlayer);
        }
        function mapcurrent(lat, lon, name) {
            var currentIcon = L.icon({
                iconUrl: 'images/bluepin.png',
                iconSize: [25, 40],
                iconAnchor: [13, 39],
                popupAnchor: [0, -30],
            })
            current = L.layerGroup();
            var imarker = L.marker([lat, lon], { icon: currentIcon }).bindPopup("<b>" + name + "</b>").addTo(current);
            
            current.addTo(mymap);
            mymap.setView([lat, lon], 13);
        }
    </script>



</body>
</html>